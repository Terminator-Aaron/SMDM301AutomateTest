{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory name",
			"defaultValue": "azusmd1df201"
		},
		"AzureBlobStorageBackUp_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'AzureBlobStorageBackUp'"
		},
		"CosmosDb1_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'CosmosDb1'"
		},
		"MaintTeamSITDatabase_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'MaintTeamSITDatabase'"
		},
		"MainteamAzureBolbStorage_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'MainteamAzureBolbStorage'"
		},
		"SharedIntegrationRuntime_properties_typeProperties_linkedInfo_resourceId": {
			"type": "string",
			"defaultValue": "/subscriptions/1e984346-edba-4a2c-8888-cf0f668bea68/resourcegroups/EDP_Testing/providers/Microsoft.DataFactory/factories/AZUEDPA204V/integrationruntimes/AZUEDPA201V"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/AzureBlobStorageBackUp')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobStorage",
				"typeProperties": {
					"connectionString": "[parameters('AzureBlobStorageBackUp_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/CosmosDb1')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "CosmosDb",
				"typeProperties": {
					"connectionString": "[parameters('CosmosDb1_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/MaintTeamSITDatabase')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureSqlDatabase",
				"typeProperties": {
					"connectionString": "[parameters('MaintTeamSITDatabase_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/MainteamAzureBolbStorage')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobStorage",
				"typeProperties": {
					"connectionString": "[parameters('MainteamAzureBolbStorage_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Trigger_4id')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"runtimeState": "Stopped",
				"pipelines": [],
				"type": "ScheduleTrigger",
				"typeProperties": {
					"recurrence": {
						"frequency": "Hour",
						"interval": 12,
						"startTime": "2021-05-31T23:00:00Z",
						"timeZone": "UTC"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Trigger_8n8')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"runtimeState": "Stopped",
				"pipelines": [],
				"type": "ScheduleTrigger",
				"typeProperties": {
					"recurrence": {
						"frequency": "Minute",
						"interval": 2,
						"startTime": "2020-06-22T03:11:00Z",
						"timeZone": "UTC"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Trigger_AzureBlobStorageBackUp')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"runtimeState": "Stopped",
				"pipelines": [],
				"type": "ScheduleTrigger",
				"typeProperties": {
					"recurrence": {
						"frequency": "Minute",
						"interval": 15,
						"startTime": "2021-01-15T01:44:00Z",
						"timeZone": "UTC"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Trigger_xal')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"runtimeState": "Stopped",
				"type": "TumblingWindowTrigger",
				"typeProperties": {
					"frequency": "Hour",
					"interval": 24,
					"startTime": "2020-06-22T02:43:00Z",
					"delay": "00:00:00",
					"maxConcurrency": 50,
					"retryPolicy": {
						"intervalInSeconds": 30
					},
					"dependsOn": []
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SharedIntegrationRuntime')]",
			"type": "Microsoft.DataFactory/factories/integrationRuntimes",
			"apiVersion": "2018-06-01",
			"properties": {
				"type": "SelfHosted",
				"description": "SharedIntegrationRuntime",
				"typeProperties": {
					"linkedInfo": {
						"resourceId": "[parameters('SharedIntegrationRuntime_properties_typeProperties_linkedInfo_resourceId')]",
						"authorizationType": "Rbac"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_2pp')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "MaintTeamSITDatabase",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "ID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "BogieNo",
						"type": "nvarchar"
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "Attunity_Bogie"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/MaintTeamSITDatabase')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_4id')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "MaintTeamSITDatabase",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "ID",
						"type": "int",
						"precision": 10,
						"scale": 0
					},
					{
						"name": "Code",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "Name",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "Type",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "ParentCode",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "DESP",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "Attunity_SYS_GENERIC_CODE"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/MaintTeamSITDatabase')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_5u7')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorageBackUp",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Json",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"container": "cosmosdbbakup"
					}
				},
				"schema": {}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureBlobStorageBackUp')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_AttunityFailCodeWithEquipNo')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "MaintTeamSITDatabase",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "ID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "FAILURE_CODE",
						"type": "nvarchar"
					},
					{
						"name": "FAILURE_CODE_TYPE",
						"type": "nvarchar"
					},
					{
						"name": "EQUIP_NO",
						"type": "nvarchar"
					},
					{
						"name": "DESP",
						"type": "nvarchar"
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "Attunity_FailueCodeWithEquipNo"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/MaintTeamSITDatabase')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_Attunity_CM_InitialDelaySetting')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "MaintTeamSITDatabase",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "ID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "EQUIP_CLASS_ID",
						"type": "varchar"
					},
					{
						"name": "EQUIP_CLASS_CD",
						"type": "nvarchar"
					},
					{
						"name": "WorkNatureLevel1",
						"type": "nvarchar"
					},
					{
						"name": "WorkNatureLevel2",
						"type": "nvarchar"
					},
					{
						"name": "StandardJobCode",
						"type": "nvarchar"
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "Attunity_CM_InitialDelaySetting"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/MaintTeamSITDatabase')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_Attunity_EquipmentClassAssocCode')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "MaintTeamSITDatabase",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "ID",
						"type": "int",
						"precision": 10,
						"scale": 0
					},
					{
						"name": "EQUIP_CLASS_ID",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "EQUIP_CLASS_CD",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "TYPE",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "CODE",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "DESP",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "ParentCode",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "Attunity_EquipmentClassAssocCode"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/MaintTeamSITDatabase')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_Attunity_SYS_GENERIC_CODE')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "MaintTeamSITDatabase",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "ID",
						"type": "int",
						"precision": 10,
						"scale": 0
					},
					{
						"name": "Code",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "Name",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "Type",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "ParentCode",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "DESP",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "Attunity_SYS_GENERIC_CODE"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/MaintTeamSITDatabase')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_Attunity_StandardJob')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "MaintTeamSITDatabase",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "ID",
						"type": "int",
						"precision": 10,
						"scale": 0
					},
					{
						"name": "StandardJobCode",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "StandardJobDesp",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "WorkGroupCode",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "WorkNatureLevel1",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "WorkNatureLevel2",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "EstimateJobDuration",
						"type": "int",
						"precision": 10,
						"scale": 0
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "Attunity_StandardJob"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/MaintTeamSITDatabase')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_DestinationBlob')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorageBackUp",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Binary",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"container": "root"
					}
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureBlobStorageBackUp')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_ab8')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "MaintTeamSITDatabase",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "ID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "AxleNo",
						"type": "nvarchar"
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "Attunity_Axle"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/MaintTeamSITDatabase')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_async_workorder')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "MaintTeamSITDatabase",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "WO_NO",
						"type": "nvarchar",
						"precision": 255,
						"scale": 255
					},
					{
						"name": "WO_DESP",
						"type": "nvarchar",
						"precision": 255,
						"scale": 255
					},
					{
						"name": "WK_GRP_ID",
						"type": "nvarchar",
						"precision": 255,
						"scale": 255
					},
					{
						"name": "WK_GRP_CD",
						"type": "nvarchar",
						"precision": 255,
						"scale": 255
					},
					{
						"name": "WK_GRP_NAME",
						"type": "nvarchar",
						"precision": 255,
						"scale": 255
					},
					{
						"name": "PLAN_START_DATE",
						"type": "datetime",
						"precision": 23,
						"scale": 3
					},
					{
						"name": "GC_WORK_NATURE_LV1_CD",
						"type": "nvarchar",
						"precision": 255,
						"scale": 255
					},
					{
						"name": "GC_WORK_NATURE_LV2_CD",
						"type": "nvarchar",
						"precision": 255,
						"scale": 255
					},
					{
						"name": "STD_JOB_CD",
						"type": "nvarchar",
						"precision": 255,
						"scale": 255
					},
					{
						"name": "EQUIP_NO",
						"type": "nvarchar",
						"precision": 255,
						"scale": 255
					},
					{
						"name": "EQUIP_CLASS_CD",
						"type": "nvarchar",
						"precision": 255,
						"scale": 255
					},
					{
						"name": "LOC_ID",
						"type": "nvarchar",
						"precision": 255,
						"scale": 255
					},
					{
						"name": "LOC_CD",
						"type": "nvarchar",
						"precision": 255,
						"scale": 255
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "Attunity_WorkOrder_ForTest"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/MaintTeamSITDatabase')]"
			]
		}
	]
}
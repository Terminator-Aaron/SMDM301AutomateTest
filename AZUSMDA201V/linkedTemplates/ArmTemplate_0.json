{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory name",
			"defaultValue": "AZUSMDA201V"
		},
		"AzureBlobStorageBackUp_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'AzureBlobStorageBackUp'"
		},
		"AzureBolbStorage_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'AzureBolbStorage'"
		},
		"CosmosDb_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'CosmosDb'"
		},
		"SMD_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SMD'"
		},
		"SharedIntegrationRuntime_properties_typeProperties_linkedInfo_resourceId": {
			"type": "string",
			"defaultValue": "/subscriptions/1e984346-edba-4a2c-8888-cf0f668bea68/resourcegroups/EDP_Testing/providers/Microsoft.DataFactory/factories/AZUEDPA204V/integrationruntimes/AZUEDPA201V"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/AzureBlobStorageBackUp')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobStorage",
				"typeProperties": {
					"connectionString": "[parameters('AzureBlobStorageBackUp_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/AzureBolbStorage')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobStorage",
				"typeProperties": {
					"connectionString": "[parameters('AzureBolbStorage_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/CosmosDb')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "CosmosDb",
				"typeProperties": {
					"connectionString": "[parameters('CosmosDb_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SMD')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureSqlDatabase",
				"typeProperties": {
					"connectionString": "[parameters('SMD_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SharedIntegrationRuntime')]",
			"type": "Microsoft.DataFactory/factories/integrationRuntimes",
			"apiVersion": "2018-06-01",
			"properties": {
				"type": "SelfHosted",
				"description": "SharedIntegrationRuntime",
				"typeProperties": {
					"linkedInfo": {
						"resourceId": "[parameters('SharedIntegrationRuntime_properties_typeProperties_linkedInfo_resourceId')]",
						"authorizationType": "Rbac"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/BinaryDataSourceStore_CompleteWO')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "Connection to your data source store. ",
				"linkedServiceName": {
					"referenceName": "AzureBolbStorage",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Binary",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"container": "smd-workorderfile"
					}
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureBolbStorage')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/BinaryDataSourceStore_Fitdefitment')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "Connection to your data source store. ",
				"linkedServiceName": {
					"referenceName": "AzureBolbStorage",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Binary",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"container": "smd-fitdefitmentfile"
					}
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureBolbStorage')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_Attunity_AxleNo')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "Connect to your data destination store.",
				"linkedServiceName": {
					"referenceName": "SMD",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "ID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "AxleNo",
						"type": "nvarchar"
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "Attunity_Axle"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/SMD')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_Attunity_BogieNo')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "Connect to your data destination store.",
				"linkedServiceName": {
					"referenceName": "SMD",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "Attunity_Bogie"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/SMD')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_Attunity_CM_InitialDelaySetting')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "Connect to your data destination store.",
				"linkedServiceName": {
					"referenceName": "SMD",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"structure": [
					{
						"name": "ID",
						"type": "Int32"
					},
					{
						"name": "EQUIP_CLASS_ID",
						"type": "String"
					},
					{
						"name": "EQUIP_CLASS_CD",
						"type": "String"
					},
					{
						"name": "WorkNatureLevel1",
						"type": "String"
					},
					{
						"name": "WorkNatureLevel2",
						"type": "String"
					},
					{
						"name": "StandardJobCode",
						"type": "String"
					}
				],
				"typeProperties": {
					"tableName": "[[dbo].[Attunity_CM_InitialDelaySetting]"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/SMD')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_Attunity_CarNo')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "Connect to your data destination store.",
				"linkedServiceName": {
					"referenceName": "SMD",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "Attunity_Cart"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/SMD')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_Attunity_EquipmentClass')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "SMD",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "ID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "EQUIP_CLASS_ID",
						"type": "nvarchar"
					},
					{
						"name": "EQUIP_CLASS_CD",
						"type": "nvarchar"
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "Attunity_EquipmentClass"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/SMD')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_Attunity_EquipmentClassAssocCode')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "SMD",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "ID",
						"type": "int",
						"precision": 10,
						"scale": 0
					},
					{
						"name": "EQUIP_CLASS_ID",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "EQUIP_CLASS_CD",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "TYPE",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "CODE",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "DESP",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "ParentCode",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "Attunity_EquipmentClassAssocCode"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/SMD')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_Attunity_EquipmentNo')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "SMD",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "Attunity_Equipment"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/SMD')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_Attunity_FailCodeWithEquipNo')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "Connect to your data destination store.",
				"linkedServiceName": {
					"referenceName": "SMD",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "Attunity_FailueCodeWithEquipNo"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/SMD')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_Attunity_IMTE')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "Connect to your data destination store.",
				"linkedServiceName": {
					"referenceName": "SMD",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "Attunity_IMTE"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/SMD')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_Attunity_SYS_GENERIC_CODE')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "SMD",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "ID",
						"type": "int",
						"precision": 10,
						"scale": 0
					},
					{
						"name": "Code",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "Name",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "Type",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "ParentCode",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "DESP",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "Attunity_SYS_GENERIC_CODE"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/SMD')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_Attunity_StandardJob')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "SMD",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "ID",
						"type": "int",
						"precision": 10,
						"scale": 0
					},
					{
						"name": "StandardJobCode",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "StandardJobDesp",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "WorkGroupCode",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "WorkNatureLevel1",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "WorkNatureLevel2",
						"type": "nvarchar",
						"precision": 0,
						"scale": 0
					},
					{
						"name": "EstimateJobDuration",
						"type": "int",
						"precision": 10,
						"scale": 0
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "Attunity_StandardJob"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/SMD')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_CosmosDBBackUp')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorageBackUp",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Json",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"container": "cosmosdbbakup"
					}
				},
				"schema": {}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureBlobStorageBackUp')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_DestinationBlob')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "Connection to your data source store. ",
				"linkedServiceName": {
					"referenceName": "AzureBlobStorageBackUp",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Binary",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"container": "root"
					}
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AzureBlobStorageBackUp')]"
			]
		}
	]
}